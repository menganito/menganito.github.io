<!DOCTYPE html>
<html>
<head>
<title>Click that country!</title>
</head>
<body>
<header>
<h1>Click that country!</h1>
</header>

<div id="intro">
<p>Ako dobre poznáš krajiny sveta? </p>
<p>Čo všetko o nich vieš?</p>
<p>Zisti to v tejto hre: Ku každej krajine vpíš do políčka na odpoveď kontinent na ktorom sa nachádza.</p>
<p>Keď si pripravený, klikni</p>
<button type="button" id="start" disabled onclick="start();">Štart!</button>
</div>

<div id="game" hidden>
<p id="flag"></p>
<p>Krajina je <span id="country" class="bold"></span></p>
<p>V ktorom kontinente sa nachádza?</p>
<input type="text"><input type="submit" id="answer" value="Odpovedať">
</div>

<script>
//let countries = {}
async function populate() {
  const requestURL = "countries2.json";
  const request = new Request(requestURL);
  const response = await fetch(request);
  countries = await response.json();
  //at the beginning, the button is disabled, we can enable it now that the json is loaded.
  var button = document.getElementById("start");
  button.disabled = false;
  //let's shuffle the list
  countries.sort(function(){return 0.5 - Math.random()});
}
//function start is called by the start button
function start() {
  document.getElementById("game").hidden = false;
  document.getElementById("intro").hidden = true;
  game();
}
function game() {
for (let question = 0; question < countries.length - 10; question++) {
document.getElementById("country").innerhtml = countries[question].name;
document.getElementById("flag").innerhtml = '<img src="https://flagsapi.com/' + countries[question].code + '/flat/64.png"></img>';
console.log(countries[question].name);
}
}
populate();

</script>
</body>
</html>